{"version":3,"file":"multiselect.component.js","sourceRoot":"","sources":["../../src/multiselect/multiselect.component.ts"],"names":[],"mappings":"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","sourcesContent":["import {\n  Component, OnInit, OnDestroy, ElementRef, Renderer, ViewContainerRef, forwardRef, Input,\n  EventEmitter, Output, ViewChild, HostListener, TemplateRef\n} from '@angular/core';\nimport {DropdownContainerComponent} from './dropdown-container.component';\nimport {DropdownState} from './dropdown.state';\nimport {ComponentLoader} from '../component-loader/component-loader.class';\nimport {Subscription} from 'rxjs/Subscription';\nimport {ComponentLoaderFactory} from '../component-loader/component-loader.factory';\nimport {ControlValueAccessor, NG_VALUE_ACCESSOR} from '@angular/forms';\n\nexport type ModelType = Object\n  | Object[]\n  | string\n  | string[]\n  | number\n  | number[];\n\n\nexport class MultiselectComponent implements ControlValueAccessor, OnInit, OnDestroy {\n\n  \n  public placeholder: string;\n  \n  public change: EventEmitter<ModelType> = new EventEmitter();\n  \n  public displayName: string;\n  \n  public trackBy: string;\n  public dropdownMenuWidth: number;\n  public optionList: Object[] | number[] | string[];\n  public onTouched: any = Function.prototype;\n  public onChange: any = Function.prototype;\n  \n  public dropdownRef: TemplateRef<any>;\n  \n  public dropdownMenu: ElementRef;\n\n  private _multiple: boolean;\n  private _isDisabled: boolean;\n  private _required: boolean;\n  private _readonly: boolean;\n  private _allowSearch: boolean;\n  private _options: Object[] | number[] | string[];\n  private _value: any;\n  private _dropdown: ComponentLoader<DropdownContainerComponent>;\n  private _subscriptions: Subscription[] = [];\n  private isOpen: boolean;\n\n  constructor(private _elementRef: ElementRef,\n              private _renderer: Renderer,\n              private _viewContainerRef: ViewContainerRef,\n              private _cis: ComponentLoaderFactory,\n              private _state: DropdownState) {\n    // create dropdown component loader\n    this._dropdown = this._cis\n      .createLoader<DropdownContainerComponent>(this._elementRef, this._viewContainerRef, this._renderer)\n      .provide({provide: DropdownState, useValue: this._state});\n  }\n\n  ngOnInit() {\n    this._subscriptions.push(this._state\n      .toggleClick.subscribe((value: any) => {\n        this.toggle(value);\n      }));\n    this.placeholder = this.placeholder || '';\n  }\n\n  ngOnDestroy() {\n    for (let sub of this._subscriptions) {\n      sub.unsubscribe();\n    }\n    this._dropdown.dispose();\n  }\n\n  writeValue(v: any) {\n    this._value = v;\n  }\n\n  registerOnChange(fn: any) {\n    this.onChange = fn;\n  }\n\n  registerOnTouched(fn: any) {\n    this.onTouched = fn;\n  }\n\n  setDisabledState(isDisabled: boolean) {\n    this.disabled = isDisabled;\n  }\n\n  \n  get multiple() {\n    return this._multiple;\n  }\n\n  set multiple(value: any) {\n    this._multiple = this.coerceBooleanProperty(value);\n  }\n\n  \n  get disabled() {\n    return this._isDisabled;\n  }\n\n  set disabled(value: any) {\n    this._isDisabled = this.coerceBooleanProperty(value);\n  }\n\n  \n  get required() {\n    return this._required;\n  }\n\n  set required(value: any) {\n    this._required = this.coerceBooleanProperty(value);\n  }\n\n  \n  get readonly() {\n    return this._readonly;\n  }\n\n  set readonly(value: any) {\n    this._readonly = this.coerceBooleanProperty(value);\n  }\n\n  \n  get allowSearch() {\n    return this._allowSearch;\n  }\n\n  set allowSearch(value: any) {\n    this._allowSearch = this.coerceBooleanProperty(value);\n  }\n\n  \n  get options() {\n    return this._options;\n  }\n\n  set options(value: Object[] | number[] | string[]) {\n    this._options = value;\n  }\n\n  clearSelection(event: any) {\n    if (!this.disabled || !this.readonly) {\n      this._value = null;\n      this.onChange(this._value);\n      this.change.emit(this._value);\n    }\n    event.stopPropagation();\n  }\n\n  displayValue() {\n    if (this._value instanceof Array) {\n      let count = this._value.length;\n      if (this._value.length) {\n        return count === 1\n          ? (this.displayName ? this._value[0][this.displayName] : this._value[0])\n          : count + ' selected';\n      } else {\n        return '';\n      }\n    } else if (this._value) {\n      return this.displayName ? this._value[this.displayName] : this._value;\n    } else {\n      return '';\n    }\n  }\n\n  toggle(value?: boolean) {\n    if ((this.isOpen && this._dropdown.isShown) || value === false) {\n      return this.hide();\n    }\n    return this.show();\n  }\n\n  show() {\n    if (this.disabled || this.readonly) {\n      return;\n    }\n    if (this._dropdown.isShown) {\n      return;\n    }\n    this.syncOptions();\n    this._dropdown\n      .attach(DropdownContainerComponent)\n      .to('body')\n      .position({attachment: 'bottom right'})\n      .show({\n        content: this.dropdownRef,\n        placement: 'bottom right'\n      });\n    this._state.isOpenChange.emit(true);\n    this.isOpen = true;\n    this.dropdownMenuWidth = this._elementRef.nativeElement.offsetWidth;\n  }\n\n  hide() {\n    this._dropdown.hide();\n    this._state.isOpenChange.emit(false);\n    this.isOpen = false;\n  }\n\n  \n  onDocumentClick(event: any) {\n    if (event.button !== 2 && this._dropdown.isShown &&\n      !this._elementRef.nativeElement.contains(event.target) &&\n      !this.dropdownMenu.nativeElement.contains(event.target)) {\n      this._state.toggleClick.emit(false);\n    }\n  }\n\n  selectAll(event: any) {\n    event.stopPropagation();\n    this._value = (this.options as any[]).map((v: any) => {\n      return v;\n    });\n    this.onChange(this._value);\n    this.change.emit(this._value);\n    this.hide();\n  }\n\n  search(event: any) {\n    let value = event.target.value;\n    if (value) {\n      let options = this._options as any[];\n      this.optionList = options.filter((v: any) => {\n        let displayedValue = this.displayName ? v[this.displayName] : v;\n        let regex = new RegExp('(' + value + ')', 'i');\n        return (typeof displayedValue === 'string') ? regex.test(displayedValue) : false;\n      });\n    } else {\n      this.syncOptions();\n    }\n  }\n\n  selectValue(item: any) {\n    if (this.multiple) {\n      this._value = !(this._value instanceof Array) ? [] : this._value;\n      let index = this.findIndex(this._value, item);\n      if (index >= 0) {\n        this._value.splice(index, 1);\n      } else {\n        this._value.push(item);\n      }\n    } else {\n      this._value = item;\n      this.hide();\n    }\n    this.onChange(this._value);\n    this.change.emit(this._value);\n  }\n\n  isSelected(item: any) {\n    let track = this.trackBy;\n    if (this._value) {\n      if (track) {\n        return this.multiple\n          ? this.exist(track, item)\n          : this._value[track] === item[track];\n      } else {\n        return this.multiple\n          ? (this._value instanceof Array) ? this._value.indexOf(item) >= 0 : false\n          : this._value === item;\n      }\n    }\n    return false;\n  }\n\n  markActive(item: any) {\n    if (this.multiple === false) {\n      return this.isSelected(item);\n    }\n  }\n\n  exist(track: string, item: any) {\n    let values = this._value;\n    if (values instanceof Array) {\n      return values.length ? (values.findIndex(function (v) {\n          if (v[track] === item[track]) {\n            return true;\n          }\n        })) >= 0 : false;\n    } else {\n      return values[track] === item[track];\n    }\n  }\n\n  findIndex(values: any, item: any) {\n    let track = this.trackBy;\n    return values\n      .findIndex((v: any) => {\n        if (track && v[track] === item[track]) {\n          return true;\n        } else if (v === item) {\n          return true;\n        }\n      });\n  }\n\n  private syncOptions() {\n    this.optionList = (this.options as any[]).map((v: any) => {\n      return v;\n    });\n  }\n\n  private coerceBooleanProperty(value: any) {\n    return value != null && '' + value !== 'false';\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n  selector: 'ngx-multiselect',\n  template: `\n    <div class=\"input-group\">\n      <ng-content select=\".input-group-btn\"></ng-content>\n      <ng-content select=\".input-group-addon\"></ng-content>\n      <input class=\"form-control\" [placeholder]=\"placeholder\" [value]=\"displayValue()\"\n             autocomplete=\"off\" readonly (click)=\"toggle()\" [disabled]=\"disabled\"\n             autocapitalize=\"off\" autocorrect=\"off\" [class.ready]=\"!disabled && !readonly\">\n      <div class=\"input-group-btn\">\n        <button class=\"btn btn-default\" (click)=\"clearSelection($event)\" [disabled]=\"disabled || readonly\">\n          <i class=\"glyphicon glyphicon-remove\"></i>\n        </button>\n      </div>\n    </div>\n    <i class=\"caret\" (click)=\"toggle()\"></i>\n    <template #dropdownRef>\n      <ul class=\"dropdown-menu dropdown-menu-right\" [style.min-width.px]=\"dropdownMenuWidth\" #dropdownMenu>\n        <li *ngIf=\"multiple\"><a (click)=\"selectAll($event)\" class=\"action\">Select All</a></li>\n        <li *ngIf=\"multiple\" class=\"divider\"></li>\n        <li *ngIf=\"allowSearch\" class=\"search-container\">\n          <input class=\"form-control input-sm\" placeholder=\"Search...\" (keyup)=\"search($event)\" autocapitalize=\"off\"\n                 autocorrect=\"off\"></li>\n        <li>\n          <ul class=\"list-unstyled option-list\">\n            <li class=\"selectable\" *ngFor=\"let item of optionList\" [ngClass]=\"{'active' : markActive(item)}\"><a\n              (click)=\"selectValue(item)\" [ngClass]=\"{'multiple': multiple}\">\n              <i class=\"glyphicon glyphicon-ok\" *ngIf=\"multiple\" [ngClass]=\"{'no-visible': !isSelected(item)}\"></i>\n              <span *ngIf=\"displayName\">{{item[displayName]}}</span> <span *ngIf=\"!displayName\">{{item}}</span> </a>\n            </li>\n          </ul>\n        </li>\n      </ul>\n    </template>\n  `,\n  providers: [{\n    provide: NG_VALUE_ACCESSOR,\n    useExisting: forwardRef(() => MultiselectComponent),\n    multi: true\n  }],\n  styles: [`\n    .dropdown-menu {\n      padding: 0;\n    }\n\n    .option-list {\n      max-height: 300px;\n      overflow-y: auto;\n    }\n\n    li a {\n      cursor: pointer;\n    }\n\n    .option-list li a {\n      display: block;\n      padding: 3px 10px;\n      clear: both;\n      font-weight: 400;\n      line-height: 1.42857143;\n      color: #333;\n      white-space: nowrap;\n    }\n\n    .option-list > li > a:focus, .option-list > li > a:hover {\n      color: #262626;\n      text-decoration: none;\n      background-color: #f5f5f5;\n    }\n\n    li a.action {\n      font-style: italic;\n    }\n\n    li a i {\n      font-size: 12px;\n    }\n\n    .selectable {\n      background-color: #fff;\n    }\n\n    .multiple {\n      padding-left: 10px !important;\n    }\n\n    .no-visible {\n      visibility: hidden;\n    }\n\n    .divider {\n      margin: 2px;\n    }\n\n    .search-container {\n      padding: 3px;\n    }\n\n    input.form-control {\n      padding: 6px 20px 6px 12px;\n    }\n\n    input.form-control.ready {\n      background-color: #fff;\n      cursor: pointer;\n    }\n\n    .caret {\n      position: absolute;\n      top: 45%;\n      right: 45px;\n      z-index: 10;\n    }\n\n    .glyphicon {\n      font-size: 12px;\n    }\n\n    :host {\n      display: block;\n      position: relative;\n    }\n  `\n  ]\n}, ] },\n];\n/** @nocollapse */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: ElementRef, },\n{type: Renderer, },\n{type: ViewContainerRef, },\n{type: ComponentLoaderFactory, },\n{type: DropdownState, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'placeholder': [{ type: Input },],\n'change': [{ type: Output },],\n'displayName': [{ type: Input },],\n'trackBy': [{ type: Input },],\n'dropdownRef': [{ type: ViewChild, args: ['dropdownRef', ] },],\n'dropdownMenu': [{ type: ViewChild, args: ['dropdownMenu', ] },],\n'multiple': [{ type: Input },],\n'disabled': [{ type: Input },],\n'required': [{ type: Input },],\n'readonly': [{ type: Input },],\n'allowSearch': [{ type: Input },],\n'options': [{ type: Input },],\n'onDocumentClick': [{ type: HostListener, args: ['document:click', ['$event'], ] },],\n};\n}\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}